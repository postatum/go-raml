{{- define "server_main_sanic" -}}
# DO NOT EDIT THIS FILE. This file will be overwritten when re-running go-raml.

from sanic import Sanic
from sanic.response import json

{{ range $k, $v := .ResourcesDef -}}
from {{.Name | ToLower}}_if import {{.Name | ToLower}}_if
{{end }}
import os
dir_path = os.path.dirname(os.path.realpath(__file__))

app = Sanic(__name__)

{{range $k, $v := .ResourcesDef -}}
app.blueprint({{.Name | ToLower }}_if)
{{end}}
{{if .ShowAPIDocsAndIndex}}
app.static('/apidocs', dir_path + '/apidocs')
app.static('/', dir_path + '/index.html')
{{end}}
if __name__ == "__main__":
    app.run(debug=True, port=5000, workers=2)
{{end -}}
